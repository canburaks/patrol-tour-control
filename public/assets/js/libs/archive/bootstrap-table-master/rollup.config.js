import glob from"glob";import babel from"rollup-plugin-babel";import resolve from"rollup-plugin-node-resolve";import commonjs from"rollup-plugin-commonjs";import{terser}from"rollup-plugin-terser";import inject from"rollup-plugin-inject";import copy from"rollup-plugin-copy";import multiEntry from"rollup-plugin-multi-entry";import vue from"rollup-plugin-vue";const files=glob.sync("src/**/*.js",{ignore:["src/constants/**","src/utils/**","src/virtual-scroll/**","src/vue/**"]}),external=["jquery"],globals={jquery:"jQuery"},config=[],plugins=[inject({include:"**/*.js",exclude:"node_modules/**",$:"jquery"}),resolve(),commonjs(),babel({exclude:"node_modules/**"}),copy({targets:[{src:"src/themes/bootstrap-table/fonts/*",dest:"dist/themes/bootstrap-table/fonts"}]})];"production"===process.env.NODE_ENV&&plugins.push(terser({output:{comments:()=>!1}}));for(const o of files){let e=`dist/${o.replace("src/","")}`;"production"===process.env.NODE_ENV&&(e=e.replace(/.js$/,".min.js")),config.push({input:o,output:{name:"BootstrapTable",file:e,format:"umd",globals},external,plugins})}let out="dist/bootstrap-table-locale-all.js";"production"===process.env.NODE_ENV&&(out=out.replace(/.js$/,".min.js")),config.push({input:"src/locale/**/*.js",output:{name:"BootstrapTable",file:out,format:"umd",globals},external,plugins:[multiEntry(),...plugins]}),out="dist/bootstrap-table-vue.js","production"===process.env.NODE_ENV&&(out=out.replace(/.js$/,".min.js")),config.push({input:"src/vue/index.js",output:{name:"BootstrapTable",file:out,format:"umd"},plugins:[vue(),...plugins]}),out="dist/bootstrap-table-vue.esm.js","production"===process.env.NODE_ENV&&(out=out.replace(/.js$/,".min.js")),config.push({input:"src/vue/BootstrapTable.vue",output:{name:"BootstrapTable",file:out,format:"esm"},plugins:[vue(),...plugins]});export default config;