const Utils=$.fn.bootstrapTable.utils,PIXEL_STEP=10,LINE_HEIGHT=40,PAGE_HEIGHT=800;function normalizeWheel(i){let e=0,t=0,s=0,d=0;return"detail"in i&&(t=i.detail),"wheelDelta"in i&&(t=-i.wheelDelta/120),"wheelDeltaY"in i&&(t=-i.wheelDeltaY/120),"wheelDeltaX"in i&&(e=-i.wheelDeltaX/120),"axis"in i&&i.axis===i.HORIZONTAL_AXIS&&(e=t,t=0),s=10*e,d=10*t,"deltaY"in i&&(d=i.deltaY),"deltaX"in i&&(s=i.deltaX),(s||d)&&i.deltaMode&&(1===i.deltaMode?(s*=40,d*=40):(s*=800,d*=800)),s&&!e&&(e=s<1?-1:1),d&&!t&&(t=d<1?-1:1),{spinX:e,spinY:t,pixelX:s,pixelY:d}}$.extend($.fn.bootstrapTable.defaults,{fixedColumns:!1,fixedNumber:0,fixedRightNumber:0}),$.BootstrapTable=class extends $.BootstrapTable{fixedColumnsSupported(){return this.options.fixedColumns&&!this.options.detailView&&!this.options.cardView}initContainer(){super.initContainer(),this.fixedColumnsSupported()&&(this.options.fixedNumber&&(this.$tableContainer.append('<div class="fixed-columns"></div>'),this.$fixedColumns=this.$tableContainer.find(".fixed-columns")),this.options.fixedRightNumber&&(this.$tableContainer.append('<div class="fixed-columns-right"></div>'),this.$fixedColumnsRight=this.$tableContainer.find(".fixed-columns-right")))}initBody(...i){super.initBody(...i),this.$fixedColumns&&this.$fixedColumns.length&&this.$fixedColumns.toggle(this.fixedColumnsSupported()),this.$fixedColumnsRight&&this.$fixedColumnsRight.length&&this.$fixedColumnsRight.toggle(this.fixedColumnsSupported()),this.fixedColumnsSupported()&&(this.options.showHeader&&this.options.height||(this.initFixedColumnsBody(),this.initFixedColumnsEvents()))}trigger(...i){super.trigger(...i),this.fixedColumnsSupported()&&("post-header"===i[0]?this.initFixedColumnsHeader():"scroll-body"===i[0]&&(this.needFixedColumns&&this.options.fixedNumber&&this.$fixedBody.scrollTop(this.$tableBody.scrollTop()),this.needFixedColumns&&this.options.fixedRightNumber&&this.$fixedBodyRight.scrollTop(this.$tableBody.scrollTop())))}updateSelected(){super.updateSelected(),this.fixedColumnsSupported()&&this.$tableBody.find("tr").each(((i,e)=>{const t=$(e),s=t.data("index"),d=t.attr("class"),o=`[name="${this.options.selectItemName}"]`,h=t.find(o);if(void 0===typeof s)return;const n=(i,e)=>{const t=e.find(`tr[data-index="${s}"]`);t.attr("class",d),h.length&&t.find(o).prop("checked",h.prop("checked")),this.$selectAll.length&&i.add(e).find('[name="btSelectAll"]').prop("checked",this.$selectAll.prop("checked"))};this.$fixedBody&&this.options.fixedNumber&&n(this.$fixedHeader,this.$fixedBody),this.$fixedBodyRight&&this.options.fixedRightNumber&&n(this.$fixedHeaderRight,this.$fixedBodyRight)}))}hideLoading(){super.hideLoading(),this.needFixedColumns&&this.options.fixedNumber&&this.$fixedColumns.find(".fixed-table-loading").hide(),this.needFixedColumns&&this.options.fixedRightNumber&&this.$fixedColumnsRight.find(".fixed-table-loading").hide()}initFixedColumnsHeader(){this.options.height?this.needFixedColumns=this.$tableHeader.outerWidth(!0)<this.$tableHeader.find("table").outerWidth(!0):this.needFixedColumns=this.$tableBody.outerWidth(!0)<this.$tableBody.find("table").outerWidth(!0);const i=(i,e)=>(i.find(".fixed-table-header").remove(),i.append(this.$tableHeader.clone(!0)),i.css({width:this.getFixedColumnsWidth(e)}),i.find(".fixed-table-header"));this.needFixedColumns&&this.options.fixedNumber?(this.$fixedHeader=i(this.$fixedColumns),this.$fixedHeader.css("margin-right","")):this.$fixedColumns&&this.$fixedColumns.html("").css("width",""),this.needFixedColumns&&this.options.fixedRightNumber?(this.$fixedHeaderRight=i(this.$fixedColumnsRight,!0),this.$fixedHeaderRight.scrollLeft(this.$fixedHeaderRight.find("table").width())):this.$fixedColumnsRight&&this.$fixedColumnsRight.html("").css("width",""),this.initFixedColumnsBody(),this.initFixedColumnsEvents()}initFixedColumnsBody(){const i=(i,e)=>{i.find(".fixed-table-body").remove(),i.append(this.$tableBody.clone(!0));const t=i.find(".fixed-table-body"),s=this.$tableBody.get(0),d=s.scrollWidth>s.clientWidth?Utils.getScrollBarWidth():0,o=this.$tableContainer.outerHeight(!0)-d-1;return i.css({height:o}),t.css({height:o-e.height()}),t};this.needFixedColumns&&this.options.fixedNumber&&(this.$fixedBody=i(this.$fixedColumns,this.$fixedHeader)),this.needFixedColumns&&this.options.fixedRightNumber&&(this.$fixedBodyRight=i(this.$fixedColumnsRight,this.$fixedHeaderRight),this.$fixedBodyRight.scrollLeft(this.$fixedBodyRight.find("table").width()),this.$fixedBodyRight.css("overflow-y",this.options.height?"auto":"hidden"))}getFixedColumnsWidth(i){let e=this.getVisibleFields(),t=0,s=this.options.fixedNumber,d=0;i&&(e=e.reverse(),s=this.options.fixedRightNumber,d=parseInt(this.$tableHeader.css("margin-right"),10));for(let i=0;i<s;i++)t+=this.$header.find(`th[data-field="${e[i]}"]`).outerWidth(!0);return t+d+1}initFixedColumnsEvents(){const i=(i,e)=>{const t=`tr[data-index="${$(i.currentTarget).data("index")}"]`;let s=this.$tableBody.find(t);this.$fixedBody&&(s=s.add(this.$fixedBody.find(t))),this.$fixedBodyRight&&(s=s.add(this.$fixedBodyRight.find(t))),s.css("background-color",e?$(i.currentTarget).css("background-color"):"")};this.$tableBody.find("tr").hover((e=>{i(e,!0)}),(e=>{i(e,!1)}));const e="undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>-1?"DOMMouseScroll":"mousewheel",t=(i,e)=>{const t=normalizeWheel(i),s=Math.ceil(t.pixelY),d=this.$tableBody.scrollTop()+s;(s<0&&d>0||s>0&&d<e.scrollHeight-e.clientHeight)&&i.preventDefault(),this.$tableBody.scrollTop(d),this.$fixedBody&&this.$fixedBody.scrollTop(d),this.$fixedBodyRight&&this.$fixedBodyRight.scrollTop(d)};this.needFixedColumns&&this.options.fixedNumber&&(this.$fixedBody.find("tr").hover((e=>{i(e,!0)}),(e=>{i(e,!1)})),this.$fixedBody[0].addEventListener(e,(i=>{t(i,this.$fixedBody[0])}))),this.needFixedColumns&&this.options.fixedRightNumber&&(this.$fixedBodyRight.find("tr").hover((e=>{i(e,!0)}),(e=>{i(e,!1)})),this.$fixedBodyRight.off("scroll").on("scroll",(()=>{const i=this.$fixedBodyRight.scrollTop();this.$tableBody.scrollTop(i),this.$fixedBody&&this.$fixedBody.scrollTop(i)}))),this.options.filterControl&&$(this.$fixedColumns).off("keyup change").on("keyup change",(i=>{const e=$(i.target),t=e.val(),s=e.parents("th").data("field"),d=this.$header.find(`th[data-field="${s}"]`);if(e.is("input"))d.find("input").val(t);else if(e.is("select")){const i=d.find("select");i.find("option[selected]").removeAttr("selected"),i.find(`option[value="${t}"]`).attr("selected",!0)}this.triggerSearch()}))}renderStickyHeader(){if(this.options.stickyHeader&&(this.$stickyContainer=this.$container.find(".sticky-header-container"),super.renderStickyHeader(),this.needFixedColumns&&this.options.fixedNumber&&this.$fixedColumns.css("z-index",101).find(".sticky-header-container").css("right","").width(this.$fixedColumns.outerWidth()),this.needFixedColumns&&this.options.fixedRightNumber)){const i=this.$fixedColumnsRight.find(".sticky-header-container");this.$fixedColumnsRight.css("z-index",101),i.css("left","").scrollLeft(i.find(".table").outerWidth()).width(this.$fixedColumnsRight.outerWidth())}}matchPositionX(){this.options.stickyHeader&&this.$stickyContainer.eq(0).scrollLeft(this.$tableBody.scrollLeft())}};