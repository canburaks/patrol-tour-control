const Utils=$.fn.bootstrapTable.utils;$.extend($.fn.bootstrapTable.defaults,{stickyHeader:!1,stickyHeaderOffsetY:0,stickyHeaderOffsetLeft:0,stickyHeaderOffsetRight:0}),$.BootstrapTable=class extends $.BootstrapTable{initHeader(...t){if(super.initHeader(...t),!this.options.stickyHeader)return;this.$tableBody.find(".sticky-header-container,.sticky_anchor_begin,.sticky_anchor_end").remove(),this.$el.before('<div class="sticky-header-container"></div>'),this.$el.before('<div class="sticky_anchor_begin"></div>'),this.$el.after('<div class="sticky_anchor_end"></div>'),this.$header.addClass("sticky-header"),this.$stickyContainer=this.$tableBody.find(".sticky-header-container"),this.$stickyBegin=this.$tableBody.find(".sticky_anchor_begin"),this.$stickyEnd=this.$tableBody.find(".sticky_anchor_end"),this.$stickyHeader=this.$header.clone(!0,!0);const e=Utils.getEventName("resize.sticky-header-table",this.$el.attr("id")),s=Utils.getEventName("scroll.sticky-header-table",this.$el.attr("id"));$(window).off(e).on(e,(()=>this.renderStickyHeader())),$(window).off(s).on(s,(()=>this.renderStickyHeader())),this.$tableBody.off("scroll").on("scroll",(()=>this.matchPositionX()))}onColumnSearch({currentTarget:t,keyCode:e}){super.onColumnSearch({currentTarget:t,keyCode:e}),this.renderStickyHeader()}resetView(...t){super.resetView(...t),$(".bootstrap-table.fullscreen").off("scroll").on("scroll",(()=>this.renderStickyHeader()))}getCaret(...t){if(super.getCaret(...t),this.$stickyHeader){const t=this.$stickyHeader.find("th");this.$header.find("th").each(((e,s)=>{t.eq(e).find(".sortable").attr("class",$(s).find(".sortable").attr("class"))}))}}horizontalScroll(){super.horizontalScroll(),this.$tableBody.on("scroll",(()=>this.matchPositionX()))}renderStickyHeader(){const t=this;this.$stickyHeader=this.$header.clone(!0,!0),this.options.filterControl&&$(this.$stickyHeader).off("keyup change mouseup").on("keyup change mouse",(function(e){const s=$(e.target),i=s.val(),a=s.parents("th").data("field"),o=t.$header.find(`th[data-field="${a}"]`);if(s.is("input"))o.find("input").val(i);else if(s.is("select")){const t=o.find("select");t.find("option[selected]").removeAttr("selected"),t.find(`option[value="${i}"]`).attr("selected",!0)}t.triggerSearch()}));const e=$(window).scrollTop(),s=this.$stickyBegin.offset().top-this.options.stickyHeaderOffsetY,i=this.$stickyEnd.offset().top-this.options.stickyHeaderOffsetY-this.$header.height();if(e>s&&e<=i){this.$stickyHeader.find("tr:eq(0)").find("th").each(((t,e)=>{$(e).css("min-width",this.$header.find("tr:eq(0)").find("th").eq(t).css("width"))})),this.$stickyContainer.show().addClass("fix-sticky fixed-table-container");const t=this.$tableBody[0].getBoundingClientRect();let e="100%",s=this.options.stickyHeaderOffsetLeft,i=this.options.stickyHeaderOffsetRight;s||(s=t.left),i||(e=`${t.width}px`),this.$el.closest(".bootstrap-table").hasClass("fullscreen")&&(s=0,i=0,e="100%"),this.$stickyContainer.css("top",`${this.options.stickyHeaderOffsetY}px`),this.$stickyContainer.css("left",`${s}px`),this.$stickyContainer.css("right",`${i}px`),this.$stickyContainer.css("width",`${e}`),this.$stickyTable=$("<table/>"),this.$stickyTable.addClass(this.options.classes),this.$stickyContainer.html(this.$stickyTable.append(this.$stickyHeader)),this.matchPositionX()}else this.$stickyContainer.removeClass("fix-sticky").hide()}matchPositionX(){this.$stickyContainer.scrollLeft(this.$tableBody.scrollLeft())}};