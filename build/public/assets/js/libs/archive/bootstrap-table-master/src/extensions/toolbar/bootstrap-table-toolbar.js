const Utils=$.fn.bootstrapTable.utils,theme={bootstrap3:{icons:{advancedSearchIcon:"glyphicon-chevron-down"},html:{modal:'\n        <div id="avdSearchModal_%s"  class="modal fade" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">\n          <div class="modal-dialog modal-xs">\n            <div class="modal-content">\n              <div class="modal-header">\n                <h4 class="modal-title">%s</h4>\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                  <span aria-hidden="true">&times;</span>\n                </button>\n              </div>\n              <div class="modal-body modal-body-custom">\n                <div class="container-fluid" id="avdSearchModalContent_%s"\n                  style="padding-right: 0px; padding-left: 0px;" >\n                </div>\n              </div>\n              <div class="modal-footer">\n                <button type="button" id="btnCloseAvd_%s" class="btn btn-%s">%s</button>\n              </div>\n            </div>\n          </div>\n        </div>\n      '}},bootstrap4:{icons:{advancedSearchIcon:"fa-chevron-down"},html:{modal:'\n        <div id="avdSearchModal_%s"  class="modal fade" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">\n          <div class="modal-dialog modal-xs">\n            <div class="modal-content">\n              <div class="modal-header">\n                <h4 class="modal-title">%s</h4>\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                  <span aria-hidden="true">&times;</span>\n                </button>\n              </div>\n              <div class="modal-body modal-body-custom">\n                <div class="container-fluid" id="avdSearchModalContent_%s"\n                  style="padding-right: 0; padding-left: 0;" >\n                </div>\n              </div>\n              <div class="modal-footer">\n                <button type="button" id="btnCloseAvd_%s" class="btn btn-%s">%s</button>\n              </div>\n            </div>\n          </div>\n        </div>\n      '}},bootstrap5:{icons:{advancedSearchIcon:"fa-chevron-down"},html:{modal:'\n        <div id="avdSearchModal_%s"  class="modal fade" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">\n          <div class="modal-dialog modal-xs">\n            <div class="modal-content">\n              <div class="modal-header">\n                <h4 class="modal-title">%s</h4>\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                  <span aria-hidden="true">&times;</span>\n                </button>\n              </div>\n              <div class="modal-body modal-body-custom">\n                <div class="container-fluid" id="avdSearchModalContent_%s"\n                  style="padding-right: 0; padding-left: 0;" >\n                </div>\n              </div>\n              <div class="modal-footer">\n                <button type="button" id="btnCloseAvd_%s" class="btn btn-%s">%s</button>\n              </div>\n            </div>\n          </div>\n        </div>\n      '}},bulma:{icons:{advancedSearchIcon:"fa-chevron-down"},html:{modal:'\n        <div class="modal" id="avdSearchModal_%s">\n          <div class="modal-background"></div>\n          <div class="modal-card">\n            <header class="modal-card-head">\n              <p class="modal-card-title">%s</p>\n              <button class="delete" aria-label="close"></button>\n            </header>\n            <section class="modal-card-body" id="avdSearchModalContent_%s"></section>\n            <footer class="modal-card-foot">\n              <button class="button" id="btnCloseAvd_%s" data-close="btn btn-%s">%s</button>\n            </footer>\n          </div>\n        </div>\n      '}},foundation:{icons:{advancedSearchIcon:"fa-chevron-down"},html:{modal:'\n        <div class="reveal" id="avdSearchModal_%s" data-reveal>\n          <h1>%s</h1>\n          <div id="avdSearchModalContent_%s">\n\n          </div>\n          <button class="close-button" data-close aria-label="Close modal" type="button">\n            <span aria-hidden="true">&times;</span>\n          </button>\n\n          <button id="btnCloseAvd_%s" class="%s" type="button">%s</button>\n        </div>\n      '}},materialize:{icons:{advancedSearchIcon:"expand_more"},html:{modal:'\n        <div id="avdSearchModal_%s" class="modal">\n          <div class="modal-content">\n            <h4>%s</h4>\n            <div id="avdSearchModalContent_%s">\n\n            </div>\n          </div>\n          <div class="modal-footer">\n            <a href="javascript:void(0)"" id="btnCloseAvd_%s" class="modal-close waves-effect waves-green btn-flat %s">%s</a>\n          </div>\n        </div>\n      '}},semantic:{icons:{advancedSearchIcon:"fa-chevron-down"},html:{modal:'\n        <div class="ui modal" id="avdSearchModal_%s">\n          <i class="close icon"></i>\n          <div class="header">\n            %s\n          </div>\n          <div class="image content ui form" id="avdSearchModalContent_%s"></div>\n          <div class="actions">\n            <div id="btnCloseAvd_%s" class="ui black deny button %s">%s</div>\n          </div>\n        </div>\n      '}}}[$.fn.bootstrapTable.theme];$.extend($.fn.bootstrapTable.defaults,{advancedSearch:!1,idForm:"advancedSearch",actionForm:"",idTable:void 0,onColumnAdvancedSearch:(a,t)=>!1}),$.extend($.fn.bootstrapTable.defaults.icons,{advancedSearchIcon:theme.icons.advancedSearchIcon}),$.extend($.fn.bootstrapTable.Constructor.EVENTS,{"column-advanced-search.bs.table":"onColumnAdvancedSearch"}),$.extend($.fn.bootstrapTable.locales,{formatAdvancedSearch:()=>"Advanced search",formatAdvancedCloseButton:()=>"Close"}),$.extend($.fn.bootstrapTable.defaults,$.fn.bootstrapTable.locales),$.BootstrapTable=class extends $.BootstrapTable{initToolbar(){const a=this.options;this.showToolbar=this.showToolbar||a.search&&a.advancedSearch&&a.idTable,a.search&&a.advancedSearch&&a.idTable&&(this.buttons=Object.assign(this.buttons,{advancedSearch:{text:this.options.formatAdvancedSearch(),icon:this.options.icons.advancedSearchIcon,event:this.showAvdSearch,attributes:{"aria-label":this.options.formatAdvancedSearch(),title:this.options.formatAdvancedSearch()}}})),super.initToolbar()}showAvdSearch(){const a=this.options,t=`#avdSearchModal_${a.idTable}`;if($(t).length<=0){$("body").append(Utils.sprintf(theme.html.modal,a.idTable,a.formatAdvancedSearch(),a.idTable,a.idTable,a.buttonsClass,a.formatAdvancedCloseButton()));let o=0;$(`#avdSearchModalContent_${a.idTable}`).append(this.createFormAvd().join("")),$(`#${a.idForm}`).off("keyup blur","input").on("keyup blur","input",(t=>{"server"===a.sidePagination?this.onColumnAdvancedSearch(t):(clearTimeout(o),o=setTimeout((()=>{this.onColumnAdvancedSearch(t)}),a.searchTimeOut))})),$(`#btnCloseAvd_${a.idTable}`).click((()=>this.hideModal())),"bulma"===$.fn.bootstrapTable.theme&&$(t).find(".delete").off("click").on("click",(()=>this.hideModal())),this.showModal()}else this.showModal()}showModal(){const a=`#avdSearchModal_${this.options.idTable}`;-1!==$.inArray($.fn.bootstrapTable.theme,["bootstrap3","bootstrap4"])?$(a).modal():"bootstrap5"===$.fn.bootstrapTable.theme?(this.toolbarModal||(this.toolbarModal=new bootstrap.Modal(document.getElementById(`avdSearchModal_${this.options.idTable}`),{})),this.toolbarModal.show()):"bulma"===$.fn.bootstrapTable.theme?$(a).toggleClass("is-active"):"foundation"===$.fn.bootstrapTable.theme?(this.toolbarModal||(this.toolbarModal=new Foundation.Reveal($(a))),this.toolbarModal.open()):"materialize"===$.fn.bootstrapTable.theme?($(a).modal(),$(a).modal("open")):"semantic"===$.fn.bootstrapTable.theme&&$(a).modal("show")}hideModal(){const a=$(`#avdSearchModal_${this.options.idTable}`),t=`#avdSearchModal_${this.options.idTable}`;-1!==$.inArray($.fn.bootstrapTable.theme,["bootstrap3","bootstrap4"])?a.modal("hide"):"bootstrap5"===$.fn.bootstrapTable.theme?this.toolbarModal.hide():"bulma"===$.fn.bootstrapTable.theme?($("html").toggleClass("is-clipped"),$(t).toggleClass("is-active")):"foundation"===$.fn.bootstrapTable.theme?this.toolbarModal.close():"materialize"===$.fn.bootstrapTable.theme?$(t).modal("open"):"semantic"===$.fn.bootstrapTable.theme&&$(t).modal("close"),"server"===this.options.sidePagination&&(this.options.pageNumber=1,this.updatePagination(),this.trigger("column-advanced-search",this.filterColumnsPartial))}createFormAvd(){const a=this.options,t=[`<form class="form-horizontal" id="${a.idForm}" action="${a.actionForm}">`];for(const a of this.columns)!a.checkbox&&a.visible&&a.searchable&&t.push(`\n          <div class="form-group row">\n            <label class="col-sm-4 control-label">${a.title}</label>\n            <div class="col-sm-6">\n              <input type="text" class="form-control ${this.constants.classes.input}" name="${a.field}" placeholder="${a.title}" id="${a.field}">\n            </div>\n          </div>\n        `);return t.push("</form>"),t}initSearch(){if(super.initSearch(),!this.options.advancedSearch||"server"===this.options.sidePagination)return;const a=$.isEmptyObject(this.filterColumnsPartial)?null:this.filterColumnsPartial;this.data=a?this.data.filter(((t,o)=>{for(const[e,n]of Object.entries(a)){const a=n.toLowerCase();let s=t[e];const d=this.header.fields.indexOf(e);if(s=Utils.calculateObjectValue(this.header,this.header.formatters[d],[s,t,o],s),-1===d||"string"!=typeof s&&"number"!=typeof s||!`${s}`.toLowerCase().includes(a))return!1}return!0})):this.data,this.unsortedData=[...this.data]}onColumnAdvancedSearch(a){const t=$.trim($(a.currentTarget).val()),o=$(a.currentTarget)[0].id;$.isEmptyObject(this.filterColumnsPartial)&&(this.filterColumnsPartial={}),t?this.filterColumnsPartial[o]=t:delete this.filterColumnsPartial[o],"server"!==this.options.sidePagination&&(this.options.pageNumber=1,this.onSearch(a),this.updatePagination(),this.trigger("column-advanced-search",o,t))}};