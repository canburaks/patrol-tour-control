const fs=require("fs"),_=require("lodash"),chalk=require("chalk"),DIR="../src/locale/",readKeys=e=>e.match(/ {2}(format\w*) \(/g).map((e=>e.replace("  ","").replace(" (",""))),baseText=fs.readFileSync(DIR+"bootstrap-table-en-US.js").toString(),baseKeys=readKeys(baseText);fs.readdir(`${DIR}`,((e,o)=>{let s=0;for(const e of o){if(!/\.js$/.test(e)||"bootstrap-table-en-US.js"===e)continue;const o=fs.readFileSync(DIR+e).toString(),r=readKeys(o);let t=0;const l=[];for(const[e,o]of baseKeys.entries())r.includes(o)?r[e-t]!==o&&l.push(chalk.red(`Order error: '${o}'`)):(l.push(chalk.red(`Missing key: '${o}'`)),t++);s+=l.length,l.length>0&&(console.log("-------------------------"),console.log(`Checking file: ${e}`),console.log("-------------------------"),l.forEach((e=>{console.log(e)})))}0===s&&(console.log("Good job! Anything up to date!"),process.exit(0)),process.exit(1)}));